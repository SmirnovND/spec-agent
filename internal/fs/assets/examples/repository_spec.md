# UserRepository

## Responsibility
Обеспечивает низкоуровневый доступ к данным пользователей в базе данных.

## Inputs
- Параметры поиска (ID, email, условия фильтрации)
- Данные для создания/обновления пользователя

## Outputs
- Объект User или список объектов
- Статус выполнения операции

## Business Rules
1. Репозиторий работает только с PostgreSQL
2. Все операции логируются
3. Поддерживается soft-delete (логическое удаление)
4. Индекс по email для быстрого поиска
5. Транзакции обязательны для UPDATE операций

## Flow
1. Получает запрос на операцию с данными
2. Формирует SQL-запрос
3. Выполняет операцию в БД
4. Логирует результат операции
5. Возвращает результат

## Dependencies
- PostgreSQL база данных

## Errors
- ErrUserNotFound — пользователь не найден в БД
- ErrDatabaseError — ошибка при работе с БД
- ErrDuplicateKey — попытка создать дублирующийся email

## Notes
Репозиторий является единственным местом работы с БД.
Не содержит бизнес-логики, только операции с данными.
